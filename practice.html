<!DOCTYPE html>
<html>

<head>
  <meta charset-="UTF-8">
  <meta name = "viewport" content = "width = device-width", initial-scale = "1">
  <title>CodingTogether</title>
  <link rel = "stylesheet" href = "css/bootstrap.css">
</head>

<body>
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type = "button" class = "navbar-toggle"  data-toggle = "collapse"
          data-target = "#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class = "sr-only"></span>
          <span class = "icon-bar"></span>
          <span class = "icon-bar"></span>
          <span class = "icon-bar"></span>
         </button>
        <a class="navbar-brand" href="index.html">CodingTogether</a>
      </div>
      <div class = "collapse navbar-collapse" id = "bs-example-navbar-collpase-1">
        <ul class="nav navbar-nav">
          <li class="active"><a href="about.html">About us <span class="sr-only"></span></a></li>
          <li><a href="practice.html">Practice </span></a></li>
          <li class="active"><a href="Challenge.html">Challenge<span class="sr-only"></span></a></li>
          <li><a href="study.html">Study<span class="sr-only"></span></a></li>
          <li class="active"><a href="community.html">Community <span class="sr-only"></span></a></li>
        </ul>

        <ol class="nav nav-pills pull-right">
          <li role="presentation" class="active"><a href="#">Home</a></li>
          <li role="presentation"><a href="#">로그인</a></li>
          <li role="presentation"><a href="#">마이페이지</a></li>
        </ol>

      </div>
    </div>
  </nav>

<!-- 여기까지 모든사이트 동일 -->

  <div class="container">
    <div class="header">
      <h3 class="text-muted">코딩봇</h3>
      <div class="jumbotron">

        <select id="language" name="language" onchange="selectedLanguage.call(this,event)">
          <option value="c">C</option>
          <option value="c++">C++</option>
          <option value="java">Java</option>
        </select>
        <h4>show me the money </h4>
        <p class="lead"></p>
        <textarea id="code" style="resize:none; width:400px; height:300px;" name="code" onkeydown="if(event.keyCode===9){var v=this.value,s=this.selectionStart,e=this.selectionEnd;this.value=v.substring(0, s)+'	'+v.substring(e);this.selectionStart=this.selectionEnd=s+1;return false;}">#include<stdio.h>&#10;int main()&#10;{&#10;&#10;	return 0;&#10;}</textarea>
        <p></p>
        <input id="output" type="text" name="output" style="resize:none; width:400px; height:50px;" readonly="readonly">
        <p></p>
        <input id="ajax_post" type="button" value="제출하기" class="ajaxsend">
        <p></p>
        <script>
          var weather = ;
          imageShow(weather[1].current.imageUrl,100,100,'weather');
          document.querySelector('.ajaxsend').addEventListener('click',function(){
            var port = 'http://172.30.1.53:3000/form_receive';
            sendAjax('http://localhost:3000/form_receive',code.value,language.value);
          })
          function sendAjax(url,data,language){
            var data = {'code': data ,'language': language};
            data = JSON.stringify(data);
            var xhr = new XMLHttpRequest();
            xhr.open('POST',url,true);
            xhr.setRequestHeader('Content-type','application/json');
            xhr.send(data);
          xhr.addEventListener('load',function() {
            var result = JSON.parse(xhr.responseText);
            if(result.result !='ok')return;
            document.getElementById('output').value=result.output;
            });
          }
          function imageShow(src,width,height,alt) {
            var position = document.getElementById('weather');
            var img= document.createElement('img');
            img.src = src;
            img.width = width;
            img.height = height;
            img.alt = alt;
            position.insertBefore(img,position.childNodes[0]);
          }
          function selectedLanguage(event){
            switch(this.options[this.selectedIndex].value){
              case 'c':
                document.getElementById('code').value = '#include<stdio.h>\nint main()\n{\n\n\treturn 0;\n}'
                break;
              case 'c++':
                document.getElementById('code').value = '#include<iostream>\nusing namespace std;\nint main() \n{\n\n}';
                break;
              case 'java':
                document.getElementById('code').value = 'public class Test {\n\tpublic static void main(String[] args) {\n\n\t}\n}'
                break;
            }
          }
          script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js')
        </script>
        <p></p>
        <!-- <footer class="footer"></footer>
        <p>© SkunivTeam</p> -->
      </div>
      <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
    </div>
  </div>


<!-- 여기서부터 모든 페이지 동일 -->
<footer style = "background-color: #000000; color: #ffffff">
  <div  class = "container">
    <br>
    <div class = "row">
      <div class = "col-sm-4" style = "text - align: center;"><h4>Copyright &copy; 2018 CodingTogether</h4><h5>손주원 이주형 손정훈 최찬종</h5></div>

    </div>
  </div>

</body>
</html>
